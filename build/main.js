var M=document.createElement("img");M.src="./assets/bird.png";var S=6,L={x:80,y:40,speedX:4,speedY:0,image:M,alive:function(){L.speedY+=0.6,L.speedY=L.speedY*(100-S)/100,L.y+=L.speedY,z.drawImage(L.image,L.x,L.y)},contacts:function(h){if(h.image===M)return!1;const w=this.x+this.image.width,J=this.y+this.image.height,A=w>=h.x+K&&w<=h.x+h.image.width-K,D=J>=h.y+K&&J<=h.y+h.image.height-K;return A&&D},jump:function(){L.speedY-=20}},K=5;document.addEventListener("keydown",(h)=>{if(h.key=="ArrowUp")L.jump()});document.getElementById("main").addEventListener("click",(h)=>{L.jump()});function Z(){const h=new V,w=new W(h.x,h.y);return{myPipeFloor:h,myPipeCeil:w}}var B=200,Q={gap:150},U=document.createElement("img");U.src="../assets/pipeFloor.png";var N=document.createElement("img");N.src="../assets/pipeCeil.png";class V{constructor(){this.image=U,this.x=q.width,this.y=Math.random()*(q.height-200)+150}alive(){z.drawImage(this.image,this.x,this.y),this.x-=L.speedX}}class W{constructor(h,w){this.image=N,this.x=h,this.y=w-N.height-B}alive(){z.drawImage(this.image,this.x,this.y),this.x-=L.speedX}}function _(h,w,J){if(!E[h])E[h]=0;if(E[h]>w)return E[h]=0,J();else E[h]+=1}function R(h){if(h.x<=0-h.image.width-20)return!0;if(h.y<=0-h.image.height-20)return!0;if(h.x>=q.width+h.image.width+20)return!0;if(h.y>=q.height+h.image.height+20)return!0}var E={};var $=function(){z.clearRect(0,0,q.width,q.height),_("putPipes",Q.gap,function(){const{myPipeFloor:h,myPipeCeil:w}=Z();H.push(h,w)}),H.forEach((h)=>{if(L.contacts(h)||R(L))x();if(R(h))H.splice(i,1)}),H.forEach((h)=>h.alive()),O(),requestAnimationFrame($)},x=function(){H.splice(0),alert("Game Over!"),location.reload()},O=function(){T++,q.style.backgroundPosition=`${-T}px 0px`;const h=Math.floor(T/Q.gap);u.textContent=h},q=document.getElementById("main"),z=q.getContext("2d"),H=[L],u=document.querySelector("#score"),T=-1;window.requestAnimationFrame($);export{H as scene,z as ctx,q as canvas};
