var K=document.createElement("img");K.src="./assets/bird.png";var S=6,L={x:80,y:40,speedX:4,speedY:0,image:K,alive:function(){L.speedY+=0.6,L.speedY=L.speedY*(100-S)/100,L.y+=L.speedY,w.drawImage(L.image,L.x,L.y)},contacts:function(h){if(h.image===K)return!1;const M=this.x+this.image.width,E=this.y+this.image.height,A=M>=h.x+H&&M<=h.x+h.image.width-H,D=E>=h.y+H&&E<=h.y+h.image.height-H;return A&&D},jump:function(){L.speedY-=20}},H=5;document.addEventListener("keydown",(h)=>{if(h.key=="ArrowUp")L.jump()});document.getElementById("main").addEventListener("click",(h)=>{L.jump()});function Z(){const h=new V,M=new W(h.x,h.y);return{myPipeFloor:h,myPipeCeil:M}}var B=200,Q={gap:150},U=document.createElement("img");U.src="../assets/pipeFloor.png";var N=document.createElement("img");N.src="../assets/pipeCeil.png";class V{constructor(){this.image=U,this.x=q.width,this.y=Math.random()*(q.height-200)+150}alive(){w.drawImage(this.image,this.x,this.y),this.x-=L.speedX}}class W{constructor(h,M){this.image=N,this.x=h,this.y=M-N.height-B}alive(){w.drawImage(this.image,this.x,this.y),this.x-=L.speedX}}function _(h,M,E){if(!z[h])z[h]=0;if(z[h]>M)return z[h]=0,E();else z[h]+=1}function R(h){if(h.x<=0-h.image.width-20)return!0;if(h.y<=0-h.image.height-20)return!0;if(h.x>=q.width+h.image.width+20)return!0;if(h.y>=q.height+h.image.height+20)return!0}var z={};var $=function(){w.clearRect(0,0,q.width,q.height),_("putPipes",Q.gap,function(){const{myPipeFloor:h,myPipeCeil:M}=Z();J.push(h,M)}),J.forEach((h,M)=>{if(L.contacts(h)||R(L))u();if(R(h))J.splice(M,1);else h.alive()}),x(),requestAnimationFrame($)},u=function(){J.splice(0),alert("Game Over!"),location.reload()},x=function(){T++,q.style.backgroundPosition=`${-T}px 0px`;const h=Math.floor(T/Q.gap);O.textContent=h},q=document.getElementById("main"),w=q.getContext("2d"),J=[L],O=document.querySelector("#score"),T=-1;window.requestAnimationFrame($);export{J as scene,w as ctx,q as canvas};
