var M=document.createElement("img");M.src="./assets/bird.png";var k=6,w={x:80,y:40,speedX:4,speedY:0,image:M,alive:function(){w.speedY+=0.8,w.speedY=w.speedY*(100-k)/100,w.y+=w.speedY,J.drawImage(w.image,w.x,w.y)},contacts:function(h){if(h.image===M)return!1;const q=this.x+this.image.width,E=this.y+this.image.height,A=q>=h.x+L&&q<=h.x+h.image.width-L,D=E>=h.y+L&&E<=h.y+h.image.height-L;return A&&D}},L=5;document.addEventListener("keydown",(h)=>{if(h.key=="ArrowUp")w.speedY-=20});function Z(){const h=new V,q=new W(h.x,h.y);return{myPipeFloor:h,myPipeCeil:q}}var B=200,Q={gap:150},U=document.createElement("img");U.src="../assets/pipeFloor.png";var N=document.createElement("img");N.src="../assets/pipeCeil.png";class V{constructor(){this.image=U,this.x=z.width,this.y=Math.random()*(z.height-200)+150}alive(){J.drawImage(this.image,this.x,this.y),this.x-=w.speedX}}class W{constructor(h,q){this.image=N,this.x=h,this.y=q-N.height-B}alive(){J.drawImage(this.image,this.x,this.y),this.x-=w.speedX}}function _(h,q,E){if(!K[h])K[h]=0;if(K[h]>q)return K[h]=0,E();else K[h]+=1}function R(h){if(h.x<=0-h.image.width)return!0;if(h.y<=0-h.image.height)return!0;if(h.x>=z.width+h.image.width)return!0;if(h.y>=z.height+h.image.height)return!0}var K={};var $=function(){J.clearRect(0,0,z.width,z.height),_("putPipes",Q.gap,function(){const{myPipeFloor:q,myPipeCeil:E}=Z();H.push(q),H.push(E)});for(let q=0;q<H.length;q++){const E=H[q];if(w.contacts(E)||R(w))S();if(R(E))H.splice(q,1)}H.forEach((q)=>q.alive()),T++,z.style.backgroundPosition=`${-T}px 0px`;const h=Math.floor(T/Q.gap)-1;O.textContent=h<0?0:h,requestAnimationFrame($)},S=function(){H.splice(0),alert("Game Over!"),location.reload()},z=document.getElementById("main"),J=z.getContext("2d"),H=[w],O=document.querySelector("#score"),T=0;window.requestAnimationFrame($);export{H as scene,J as ctx,z as canvas};
