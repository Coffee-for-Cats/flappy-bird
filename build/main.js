var M=document.createElement("img");M.src="./assets/bird.png";var B=6,q={x:80,y:40,speedX:4,speedY:0,image:M,alive:function(){q.speedY+=0.6,q.speedY=q.speedY*(100-B)/100,q.y+=q.speedY,H.drawImage(q.image,q.x,q.y)},contacts:function(L){if(L.image===M)return!1;const h=this.x+this.image.width,z=this.y+this.image.height,A=h>=L.x+K&&h<=L.x+L.image.width-K,D=z>=L.y+K&&z<=L.y+L.image.height-K;return A&&D}},K=5;document.addEventListener("keydown",(L)=>{if(L.key=="ArrowUp")q.speedY-=20});document.getElementById("main").addEventListener("click",(L)=>{q.speedY-=20});function Z(){const L=new V,h=new W(L.x,L.y);return{myPipeFloor:L,myPipeCeil:h}}var S=200,Q={gap:150},U=document.createElement("img");U.src="../assets/pipeFloor.png";var N=document.createElement("img");N.src="../assets/pipeCeil.png";class V{constructor(){this.image=U,this.x=w.width,this.y=Math.random()*(w.height-200)+150}alive(){H.drawImage(this.image,this.x,this.y),this.x-=q.speedX}}class W{constructor(L,h){this.image=N,this.x=L,this.y=h-N.height-S}alive(){H.drawImage(this.image,this.x,this.y),this.x-=q.speedX}}function _(L,h,z){if(!J[L])J[L]=0;if(J[L]>h)return J[L]=0,z();else J[L]+=1}function R(L){if(L.x<=0-L.image.width-20)return!0;if(L.y<=0-L.image.height-20)return!0;if(L.x>=w.width+L.image.width+20)return!0;if(L.y>=w.height+L.image.height+20)return!0}var J={};var $=function(){H.clearRect(0,0,w.width,w.height),_("putPipes",Q.gap,function(){const{myPipeFloor:h,myPipeCeil:z}=Z();E.push(h),E.push(z)});for(let h=0;h<E.length;h++){const z=E[h];if(q.contacts(z)||R(q))O();if(R(z))E.splice(h,1)}E.forEach((h)=>h.alive()),T++,w.style.backgroundPosition=`${-T}px 0px`;const L=Math.floor(T/Q.gap)-1;k.textContent=L<0?0:L,requestAnimationFrame($)},O=function(){E.splice(0),alert("Game Over!"),location.reload()},w=document.getElementById("main"),H=w.getContext("2d"),E=[q],k=document.querySelector("#score"),T=0;window.requestAnimationFrame($);export{E as scene,H as ctx,w as canvas};
